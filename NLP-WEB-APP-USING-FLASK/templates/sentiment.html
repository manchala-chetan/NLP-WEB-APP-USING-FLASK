<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NLP App | Sentiment Analysis</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <h1>Sentiment Analysis</h1>

    <form action="/perform_sentiment" method="post">
        <label for="sentiment_text">Type your text here</label>
        <textarea id="sentiment_text" name="sentiment_text" placeholder="Enter text for sentiment analysis" title="Enter text to analyze"></textarea>
        <input type="submit" value="Analyze Sentiment">
    </form>

    {% if response %}
    <div class="result-container">
        {% if response.get('error') %}
            <h3>Error:</h3>
            <p>{{ response.get('error') }}</p>
        {% else %}
            <h3>Sentiment Results:</h3>
            <p>Positive: {{ "%.2f"|format(response.get('positive', 0) * 100) }}%</p>
            <p>Negative: {{ "%.2f"|format(response.get('negative', 0) * 100) }}%</p>
            <p>Neutral: {{ "%.2f"|format(response.get('neutral', 0) * 100) }}%</p>

            {% if response.get('usage') == 'mock' %}
                <p><small><em>Note: Using mock API for demonstration purposes</em></small></p>
            {% endif %}
        {% endif %}
    </div>
    {% endif %}

    <p><a href="/profile">Back to Profile</a></p>
</body>
</html>